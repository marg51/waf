<div class="story-element" ng-click="toggleOpenStory(story.id)" ng-mouseover="select()" ng-class="{active: state.ui.selected_story.id == story.id}">
    <header class="story-header">
        <span class="handle pull-left">
            <i class="fa fa-ellipsis-v"></i><i class="fa fa-ellipsis-v"></i>
        </span>

        <div dnd-nodrag>
            <div class="display-flex">
                <div class="flex">{{story.title}}</div>


                <div class="pull-right">
                    <span
                        progress-bar="{{stats.done/stats.total*100}}%"
                        ng-class="{
                            inactive: stats.total == 0,
                            done: stats.total == stats.done && stats.total
                        }"></span>
                </div>
            </div>
            <div>
                <span ng-repeat="(labelId,label) in story.labels" ng-if="label" class="tag" ng-class="'tag-'+labelId"></span>
            </div>
            <!--<div class="btn-group pull-right">
                <span
                    ng-repeat="(teamId, team) in state.teams.items"
                    class="btn btn-default btn-xs"
                    ng-class="{active: story.teams[teamId]}"
                    ng-click="teamNextStep(teamId)">
                    {{team.name}}
                </span>
            </div>-->
        </div>
    </header>
</div>
